<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>robotito firmware</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Fields">Fields</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/robot.html">robot</a></li>
  <li><a href="../modules/omni.html">omni</a></li>
  <li><a href="../modules/color.html">color</a></li>
  <li><a href="../modules/proximity.html">proximity</a></li>
  <li><a href="../modules/laser_ring.html">laser_ring</a></li>
  <li><a href="../modules/led_ring.html">led_ring</a></li>
  <li><a href="../modules/cb_list.html">cb_list</a></li>
  <li><strong>wifi_net</strong></li>
</ul>
<h2>State Machines</h2>
<ul class="nowrap">
  <li><a href="../state machines/test.lua.html">test.lua</a></li>
  <li><a href="../state machines/onoff.lua.html">onoff.lua</a></li>
  <li><a href="../state machines/colorway.lua.html">colorway.lua</a></li>
</ul>
<h2>Scripts</h2>
<ul class="nowrap">
  <li><a href="../scripts/autorun.html">autorun</a></li>
  <li><a href="../scripts/main_ahsm.html">main_ahsm</a></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="../topics/README.md.html">README</a></li>
  <li><a href="../topics/nvs_parameters.md.html">nvs_parameters</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="../examples/test_color.lua.html">test_color.lua</a></li>
  <li><a href="../examples/test_proximity.lua.html">test_proximity.lua</a></li>
  <li><a href="../examples/test_laser_ring.lua.html">test_laser_ring.lua</a></li>
  <li><a href="../examples/test_led_ring.lua.html">test_led_ring.lua</a></li>
  <li><a href="../examples/test_wifi.lua.html">test_wifi.lua</a></li>
  <li><a href="../examples/test_omni.lua.html">test_omni.lua</a></li>
  <li><a href="../examples/test_ahsm.lua.html">test_ahsm.lua</a></li>
  <li><a href="../examples/calibrate_color.lua.html">calibrate_color.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>wifi_net</code></h1>
<p>WiFi network system.</p>
<p>
 The announcements have the following format:  </p>

<p> ROBOTITO id my_ip udp_port resetreason uptime  </p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#broadcast">broadcast (msg)</a></td>
	<td class="summary">Broadcasts a message.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#init">init (conf)</a></td>
	<td class="summary">Initialize network.</td>
	</tr>
</table>
<h2><a href="#Fields">Fields</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#cb">cb</a></td>
	<td class="summary">The callback module for messages arrival.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "broadcast"></a>
    <strong>broadcast (msg)</strong>
    </dt>
    <dd>
    Broadcasts a message.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">msg</span>
         a string.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "init"></a>
    <strong>init (conf)</strong>
    </dt>
    <dd>
    Initialize network.
 The system reads the configuration parameters from the config table, and if
 the table or some parameter is ommitted it will get it from
 nvs.read('wifi', parameter). The parameters are: <br/>
* <code>&apos;mode&apos;</code>: either 'ap' or 'sta', defaults ot 'none' (disabled) <br/>
* <code>&apos;ssid&apos;</code>: the wireless network ssid <br/>
* <code>&apos;passwd&apos;</code>: the wireless network password <br/>
* <code>&apos;channel&apos;</code>: defaults to 0 (auto) <br/>
* <code>&apos;udp_port&apos;</code>: listening port, defaults to 2018 <br/>
* <code>&apos;broadcast&apos;</code>: target address for the announcements (defaults to)
'255,255,255,255' <br/>
* <code>&apos;udp_announce_port&apos;</code>: announcement port, defaults to 2018 <br/>
* <code>&apos;udp_announce_interval&apos;</code>: time between announcements (in s),
 -1 mean disabled. Defaults to 10. <br/>
* <code>&apos;receive_timeout&apos;</code>: timeout for udp reads (in sec). Defaults to -1
 (disabled).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">conf</span>
         configuration table
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Fields"></a>Fields</h2>

    <dl class="function">
    <dt>
    <a name = "cb"></a>
    <strong>cb</strong>
    </dt>
    <dd>
    The callback module for messages arrival.
 This is a callback list attached to the socket, see <a href="../modules/cb_list.html#">cb_list</a>.


    <ul>
        <li><span class="parameter">msg</span>
         a string with the message
        </li>
        <li><span class="parameter">ip</span>
         the IP address of the sender
        </li>
        <li><span class="parameter">port</span>
         the port of the sender
        </li>
    </ul>




    <h3>Usage:</h3>
    <ul>
        <pre class="example"><span class="keyword">local</span> wifi_net = <span class="global">require</span> <span class="string">'wifi_net'</span>
wifi_net.cb.append( <span class="keyword">function</span> (msg, ip, port) <span class="global">print</span>(ip..<span class="string">':'</span>..port, msg) <span class="keyword">end</span> )</pre>
    </ul>

</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2019-03-27 19:21:21 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
